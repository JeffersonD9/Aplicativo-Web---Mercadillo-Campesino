generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model mercadillo {
  Id        Int       @id @default(autoincrement())
  Direccion String    @db.VarChar(50)
  Nombre    String    @db.VarChar(50)
  usuario   usuario[]
}

model productospersonalizados {
  Id              Int      @id @default(autoincrement())
  Id_Usuario      Int
  Id_producto     Int
  NombreProducto  String   @db.VarChar(50)
  Descripcion     String   @db.VarChar(50)
  Imagen          String
  NombreCategoria String   @db.VarChar(50)
  Estado          Boolean?
  usuario         usuario  @relation(fields: [Id_Usuario], references: [Id])
}

model usuario {
  Id                      Int                       @id @default(autoincrement())
  Nombres                 String                    @db.VarChar(50)
  Apellidos               String                    @db.VarChar(50)
  Password                String                    @db.VarChar(200)
  Email                   String                    @unique(map: "Usuario_Email_key") @db.VarChar(100)
  Celular                 String                    @db.VarChar(10)
  Roles                   Int                       @default(1)
  Puesto                  Int
  Cedula                  Int?                      @unique
  Estado                  Boolean                   @default(true)
  Id_Mercadillo           Int?
  productospersonalizados productospersonalizados[]
  mercadillo              mercadillo?               @relation(fields: [Id_Mercadillo], references: [Id])

  @@unique([Puesto, Id_Mercadillo], name: "unique_puesto_mercadillo")
}
